# Exemplo de arquivo docker-compose.override.yml
# Copie este arquivo para docker-compose.override.yml e ajuste conforme necessário

# Docker Compose override example - version removed (obsolete in newer versions)

services:
  traefik:
    # Configurações de segredos usando Docker Secrets
    secrets:
      - traefik_dashboard_password
      - letsencrypt_email
    environment:
      # Sobrescrever variáveis de ambiente com valores de secrets
      - TRAEFIK_DASHBOARD_PASSWORD_FILE=/run/secrets/traefik_dashboard_password
      - LETSENCRYPT_EMAIL_FILE=/run/secrets/letsencrypt_email
    labels:
      # Labels OCI (Open Container Initiative)
      - org.opencontainers.image.title=Traefik Gateway
      - org.opencontainers.image.description=Traefik Gateway para Conexão de Sorte
      - org.opencontainers.image.vendor=Conexão de Sorte
      - org.opencontainers.image.version=1.0.0
      - org.opencontainers.image.created=${BUILD_DATE}
      - org.opencontainers.image.revision=${BUILD_REVISION}
      - org.opencontainers.image.source=https://github.com/conexao-de-sorte/traefik-infraestrutura

# Definição de secrets
secrets:
  traefik_dashboard_password:
    file: ./secrets/traefik_dashboard_password.txt
  letsencrypt_email:
    file: ./secrets/letsencrypt_email.txt